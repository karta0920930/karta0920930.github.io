async function fetchNews() {
    try {
        // ✅ 修正路徑：指向 data 資料夾
        // 加上 ?t= 參數是為了防止瀏覽器記住舊的快取，確保看到最新新聞
        const response = await fetch('data/news_data.json?t=' + new Date().getTime()); 
        
        if (!response.ok) throw new Error('找不到新聞檔案');
        
        const data = await response.json();
        const container = document.getElementById('news-container');
        container.innerHTML = ''; 

        if (data.length === 0) {
            container.innerHTML = '<p>今日暫無相關保險新聞。</p>';
            return;
        }

        const list = document.createElement('ul');
        list.className = 'news-list';

        data.forEach(item => {
            const listItem = document.createElement('li');
            listItem.style.marginBottom = "15px";
            listItem.innerHTML = `
                <span class="category-tag" style="background:#eee; padding:2px 6px; border-radius:4px; font-size:12px; margin-right:8px;">${item.category}</span>
                <a href="${item.link}" target="_blank" style="text-decoration:none; color:#0056b3; font-weight:bold;">
                    ${item.title}
                </a>
                <small style="color:#666; margin-left:10px;">${item.date}</small>
            `;
            list.appendChild(listItem);
        });

        container.appendChild(list);

    } catch (error) {
        console.error('Error fetching news:', error);
        document.getElementById('news-container').innerHTML = '<p>暫時無法取得新聞（請確認 data/news_data.json 是否已產生）。</p>';
    }
}

fetchNews();
